@model Melodie.Models.User

@{
	ViewBag.NoHeader = true;
	
	var errors = ViewBag.LoginError ?? new Dictionary<string, string>();
}

<div class="auth-container">
	<div class="auth-left-container auth-img">
		<img src="/images/register_img.jpg" alt=""/>
	</div>
	
	<div class="auth-right-container auth-box">
		<div class="auth-title">
			<h2>Connexion</h2>
			<span>&Agrave; un monde rempli de musique.</span>
		</div>
		
		@if (errors.Count > 0)
        {
        	<div class="auth-errors">
        		<ol>
        			@foreach (KeyValuePair<string, string> error in errors)
        			{
        				<li>@error.Value</li>
        			}
        		</ol>
        	</div>
        }
		
    	@using (Html.BeginForm("LoginUser", "User", FormMethod.Post))
    	{
    		@Html.AntiForgeryToken()
    
    		<span class="field @(errors.ContainsKey("UnknownUsername") ? "red" : "white" ) field-madoka">
    			@Html.EditorFor(u => u.Username, new {htmlAttributes = new {id = "username", @class = "field-input", placeholder = " ", @required = "required"}})
    			<label class="field-label" for="username">
    				<svg class="field-graphic" width="100%" height="100%" viewBox="0 0 404 77" preserveAspectRatio="none">
    					<path d="m0,0l404,0l0,77l-404,0l0,-77z"/>
    				</svg>
    				<span class="field-label-content">Nom d'utilisateur</span>
    			</label>
    		</span>

		    <span class="field @(errors.ContainsKey("WrongPassword") ? "red" : "white" ) field-madoka">
    			@Html.EditorFor(u => u.Password, new {htmlAttributes = new {id = "password1", @class = "field-input", placeholder = " ", @required = "required"}})
    			<label class="field-label" for="password1">
    				<svg class="field-graphic" width="100%" height="100%" viewBox="0 0 404 77" preserveAspectRatio="none">
    					<path d="m0,0l404,0l0,77l-404,0l0,-77z"/>
    				</svg>
    				<span class="field-label-content">Mot de passe</span>
    			</label>
    		</span>

		    <button class="btn yellow growing-circle" type="submit">
    			<div class="btn-effect-box"></div>
    			<span>Se connecter</span>
    		</button>
    		
    		<a id="need-an-account" asp-controller="User" asp-action="Register">Je n'ai pas de compte.</a>
    	}
    </div>
</div>